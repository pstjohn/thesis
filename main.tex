\documentclass[12pt,letterpaper,oneside]{book}
\usepackage[top=1in, bottom=1in, left=1.25in, right=1in, footskip=0.25in]{geometry}
\usepackage{fancyhdr}

\fancypagestyle{frontmatter}{%
  \renewcommand{\headrulewidth}{0pt}% No header rule
  \renewcommand{\footrulewidth}{0pt}% No footer rule
  \fancyhf{}% Clear header/footer
  \fancyfoot[C]{\thepage}%
}

\fancypagestyle{mainmatter}{%
  \renewcommand{\headrulewidth}{0.4pt}% header rule
  \fancyhf{}
  \fancyhead[L]{\itshape\nouppercase{\leftmark}}
  \fancyfoot[C]{\thepage}
}

\usepackage[font=rm, labelfont={rm,bf}, margin=1cm]{caption}
\usepackage{subcaption}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{lmodern}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[sc]{mathpazo}
\usepackage{amsmath,amssymb,amsfonts,mathrsfs,mathtools}
\usepackage{graphicx}
\usepackage[square,sort,comma,numbers]{natbib}
\usepackage{setspace}
\usepackage{titling}
\usepackage{bibentry}
\usepackage[plain]{fancyref}
\usepackage[linktoc=all]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% For figure captions
\providecommand{\titlecaption}[2]{\caption[#1]{{\bf #1.} #2}}

% For dummy text
\usepackage{blindtext}


% Imports/macros for chapter 2
\usepackage{booktabs}
% \usepackage{chemarr}
\usepackage{longtable}

% Imports/macros for chapter 3
\usepackage{siunitx}
%\providecommand{\num}[1]{#1}  % Change this for the final compile

\providecommand{\bm}[1]{\mathbf{#1}}
\providecommand{\zdata}{\ensuremath{\hat{\bm x}}}
\providecommand{\zspline}{\ensuremath{\tilde{\bm x}}}
\providecommand{\zopt}{\ensuremath{{\bm x}^\star}}
\providecommand{\popt}{\ensuremath{{\bm p}^\star}}

% Imports for chapter 5
\usepackage{nicefrac}
\usepackage{supertabular}

% For model float
\usepackage{float}
\newfloat{model}{thp}{lop} % Frank doesn't want models labeled by chapter
\floatname{model}{Model}
\floatstyle{plaintop}
\restylefloat{model}

% For list of models in the preamble
% \usepackage{scrhack} % load after "float"

\newcommand*{\fancyrefmodlabelprefix}{mod}

\fancyrefaddcaptions{english}{%
  \providecommand*{\frefmodname}{model}%
  \providecommand*{\Frefmodname}{Model}%
}

\frefformat{plain}{\fancyrefmodlabelprefix}{\frefmodname\fancyrefdefaultspacing#1}
\Frefformat{plain}{\fancyrefmodlabelprefix}{\Frefmodname\fancyrefdefaultspacing#1}

\frefformat{vario}{\fancyrefmodlabelprefix}{%
  \frefmodname\fancyrefdefaultspacing#1#3%
}
\Frefformat{vario}{\fancyrefmodlabelprefix}{%
  \Frefmodname\fancyrefdefaultspacing#1#3%
}

\title{Mathematical Approaches to Understanding Mammalian Circadian Rhythms}

% This command is great to only print out a certain chapter, keeping references etc from other chapters.
% \includeonly{chap7/chap7}

\begin{document}
\sloppy % somewhat counter-intuitively, this makes latex respect the page margins more rigorously.
\doublespace
\frontmatter
\pagestyle{mainmatter}
\include{preamble/titlepage}
\include{preamble/signature}
\include{preamble/copyright}
\include{preamble/acknowledgement}
\include{preamble/resume}
\include{preamble/abstract}
\tableofcontents
\listoffigures
\listof{model}{List of Models}
\listoftables

\mainmatter
\include{chap1/chap1}
\include{chap2/chap2}
\include{chap3/chap3}
\include{chap4/chap4}
\include{chap5/chap5}
\include{chap6/chap6}
\include{chap7/chap7}

\backmatter
{\singlespace
\bibliographystyle{ieeetr}
\bibliography{library.bib}
% \bibliography{condensed_library.bib}
}




\end{document}
